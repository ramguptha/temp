<div class="progress-steps-new-content">
  <ul class="progress-steps">
    <li class="complete-step"><span class="icon-checkmark1"></span>{{t 'amAssignableItem.modals.addContent.stepLabels.uploadFiles'}}</li>
    <li class="complete-step"><span class="icon-checkmark1"></span>{{t 'amAssignableItem.modals.addContent.stepLabels.assignProperties'}}</li>
    <li class="active-step"><span class="icon-number-3"></span>{{t 'amAssignableItem.modals.addContent.stepLabels.assignPolicy'}}</li>
    <li><span class="icon-number-4"></span>{{t 'amAssignableItem.modals.addContent.stepLabels.finish'}}</li>
  </ul>
</div>
<div class="container-fluid">
  <div class="modal-section-wrapper">

    {{view SelectionView context=selectionController controller=selectionController}}

    <div class="assignment-type">
      <label>{{t 'amMobilePolicies.shared.assignmentRuleLabel'}}</label>
      <div class="help-wrapper">
        <div class="help-container">
          <span class="icon-question-mark"></span>
          <span class="help-tooltip">
            <div class="tooltip-arrow large-tooltip"></div>
            <ul>
              <li>{{t 'amMobilePolicies.shared.assignmentRuleLabelMediaAutoInstallTooltip'}}</li>
              <li>{{t 'amMobilePolicies.shared.assignmentRuleLabelMediaOnDemandTooltip'}}</li>
              <li>{{t 'amMobilePolicies.shared.assignmentRuleLabelMediaAutoInstallAutoRemoveTooltip'}}</li>
              <li>{{t 'amMobilePolicies.shared.assignmentRuleLabelMediaOnDemandAutoRemoveTooltip'}}</li>
            </ul>
          </span>
        </div>
      </div>
      {{select-field content=assignmentTypes optionValuePath="content.type" optionLabelPath="content.name"
      value=selectedAssignmentType.value disabled=isSelectionEmpty}}
    </div>
    <div class="availability-time-box">
      <label class="for-checkbox">{{input type="checkbox" checked=showAvailabilityTime disabled=isSelectionEmpty}}
        {{t 'amMobilePolicies.shared.setAvailabilityTimeLabel'}}</label>

      {{availability-time
      isVisible=showAvailabilityTime
      availabilitySelector=availabilitySelector
      isDateTimeValid=isAvailabilityTimeValid
      assignedTime=assignedTime
      formattedTime=formattedTime}}

    </div>
  </div>

  <div class="container-fluid add-content-actions">
    <span class="icon-question-mark modal-footer-info" alt="Help" {{action "onHelpStep3"}}></span>
    <div class="button-group">
      <button class="btn btn-low" {{action "cancel"}}>{{t 'shared.buttons.cancel'}}</button>
      <button class="btn btn-low back-button" {{action "gotoPreviousStep"}} disabled={{isBackDisabled}}>{{t 'shared.buttons.back'}}</button>
      <button class="btn btn-action" {{action "gotoNextStep"}} disabled={{isActionBtnDisabled}}>{{t 'shared.buttons.save'}}</button>
    </div>
  </div>
</div>
